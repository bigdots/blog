# redux中间价与副作用的理解


## redux副作用

reducer是纯函数，一定要保持纯净。只要传入参数相同，返回计算得到的下一个 state 就一定相同。没有特殊情况、没有副作用，没有 API 请求、没有变量修改，单纯执行计算。

所以在需要执行异步等操作的时候，就会带来redux的副作用。为了解决这一问题，redux提出了中间件。


为什么直接在View发出异步操作，然后在dispatch一个action？

View：与 State 一一对应，可以看作 State 的视觉层，并不合适承担其他功能。

## 中间件

为了理解中间件，让我们站在框架作者的角度思考问题：如果要添加功能，你会在哪个环节添加？

（1）Reducer：纯函数，只承担计算 State 的功能，不合适承担其他功能，也承担不了，因为理论上，纯函数不能进行读写操作。

（2）View：与 State 一一对应，可以看作 State 的视觉层，也不合适承担其他功能。

（3）Action：存放数据的对象，即消息的载体，只能被别人操作，自己不能进行任何操作。