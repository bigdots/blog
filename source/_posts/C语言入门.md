title: C语言入门
date: 2015-12-21 11:43:33
tags: [C语言]
description: C语言学习，C语言入门

---
C语言一经出现就以其功能丰富、表达能力强、灵活方便、应用面广等特点迅速在全世界普及和推广。C语言不但执行效率高而且可移植性好，可以用来开发应用软件、驱动、操作系统等。C语言也是其它众多高级语言的鼻祖语言，所以说学习C语言是进入编程世界的必修课。

## hello world不解释

	#include <stdio.h>
    int main()            
	{
	    printf("hello world");
		return 0;
	}

<!-- more -->

+ `#include <stdio.h>`就是一条预处理命令，它的作用是通知C语言编译系统在对C程序进行正式编译之前需做一些预处理工作。
+ 一个C程序有且只有一个主函数，即main函数，主函数就是C语言中的唯一入口。

+ C语言注释方法有两种：
```
	多行注释：  /* 注释内容 */ 
	单行注释：  //注释一行
```

## 基本数据类型

C语言中，数据类型可分为：基本数据类型，构造数据类型，指针类型，空类型。
![](/images/201511/5.jpg)

## 格式化输出语句

格式化输出语句，也可以说是占位输出，是将各种类型的数据按照格式化后的类型及指定的位置从计算机上显示。

	#include <stdio.h>
	int main(){
	    int age = 18;
		float height = 1.85;
		char unit = 'm';
		printf("小明今年%d岁\n", age);
		printf("小明身高%f%c\n", height, unit);
		printf("小明现在在慕课网上学习IT技术"); 
		return 0;
	}

![](/images/201511/7.jpg)

## 定义常量

` #define  标识符 常量值 `

## 类型转换


1. 自动类型转换

![](/images/201511/6.jpg)

<p style="color:red">注：字节小的可以向字节大的自动转换，但字节大的不能向字节小的自动转换</p>

2. 强制类型转换

在使用强制转换时应注意以下问题：

+ 数据类型和表达式都必须加括号，如把(int)(x/2+y)写成(int)x/2+y则成了把x转换成int型之后再除2再与y相加了。

+ 转换后不会改变原数据的类型及变量值，只在本次运算中临时性转换。

+ 强制转换后的运算结果不遵循四舍五入原则。


## 函数

**声明：**
![](/images/201511/8.jpg)

	int sayLove()
	{
	    //在这里输入输出语句printf，输出内容为I Love imooc 
	   printf("I LOVE imooc");
	    return 0;
	}

	int main()
	{
	    /* 调用所写函数 */
	    sayLove();
	    return 0;
	}

<p style="color:red">注：自定义函数尽量放在main函数之前，如果要放在main函数后面的话，需要在main函数之前先声明自定义函数，声明格式为：[数据类型说明] 函数名称（[参数]）;</p>

### 内部函数与外部函数
1. 在C语言中不能被其他源文件调用的函数称谓内部函数 ，内部函数由static关键字来定义，因此又被称谓静态函数，形式为：

 `static [数据类型] 函数名（[参数]） `

这里的static是对函数的作用范围的一个限定，限定该函数只能在其所处的源文件中使用，因此在不同文件中出现相同的函数名称的内部函数是没有问题的。

2. 在C语言中能被其他源文件调用的函数称谓外部函数 ，外部函数由extern关键字来定义，形式为：

 `extern [数据类型] 函数名([参数]) `

C语言规定，在没有指定函数的作用范围时，系统会默认认为是外部函数，因此当需要定义外部函数时extern也可以省略。


### 参数

参数分为形参和实参两种,形参是在定义函数名和函数体的时候使用的参数,目的是用来接收调用该函数时传入的参数；实参是在调用时传递该函数的参数。

+ 形参只有在被调用时才分配内存单元，在调用结束时，即刻释放所分配的内存单元。因此，形参只有在函数内部有效。函数调用结束返回主调函数后则不能再使用该形参变量。
+ 实参可以是常量、变量、表达式、函数等，无论实参是何种类型的量，在进行函数调用时，它们都必须具有确定的值，以便把这些值传送给形参。因此应预先用赋值等办法使实参获得确定值。
+ 在参数传递时，实参和形参在数量上，类型上，顺序上应严格一致，否则会发生类型不匹配”的错误。

### 返回值

函数的返回值是指函数被调用之后，执行函数体中的程序段所取得的并返回给主调函数的值。

1. 函数的值只能通过return语句返回主调函数。return语句的一般形式为：
   `return 表达式`   或者为：  `return (表达式)`;

2. 函数值的类型和函数定义中函数的类型应保持一致。如果两者不一致，则以函数返回类型为准，自动进行类型转换。

3. 没有返回值的函数，返回类型为void。

<p style="color:red">注意：void函数中可以有执行代码块，但是不能有返回值，另void函数中如果有return语句，该语句只能起到结束函数运行的功能。其格式为：return;</p>

### 变量

#### 局部和全局
1. 局部变量也称为内部变量。局部变量是在函数内作定义说明的。其作用域仅限于函数内， 离开该函数后再使用这种变量是非法的。在复合语句中也可定义变量，其作用域只在复合语句范围内。

2. 全局变量也称为外部变量，它是在函数外部定义的变量。它不属于哪一个函数，它属于一个源程序文件。其作用域是整个源程序。

#### 存储类别

C语言根据变量的生存周期来划分，可以分为静态存储方式和动态存储方式。

1. 静态存储方式

静态存储方式：是指在程序运行期间分配固定的存储空间的方式。静态存储区中存放了在整个程序执行过程中都存在的变量，如全局变量。

2. 动态存储方式

动态存储方式：是指在程序运行期间根据需要进行动态的分配存储空间的方式。动态存储区中存放的变量是根据程序运行的需要而建立和释放的，通常包括：函数形式参数；自动变量；函数调用时的现场保护和返回地址等。

3. 存储类别
C语言中存储类别又分为四类：自动（auto）、静态（static）、寄存器的（register）和外部的（extern）。
+ 用关键字auto定义的变量为自动变量，auto可以省略，auto不写则隐含定为“自动存储类别”，属于动态存储方式
+ 用static修饰的为静态变量，如果定义在函数内部的，称之为静态局部变量；如果定义在函数外部，称之为静态外部变量。

<p style="color:red">注意：静态局部变量属于静态存储类别，在静态存储区内分配存储单元，在程序整个运行期间都不释放；静态局部变量在编译时赋初值，即只赋初值一次；如果在定义局部变量时不赋初值的话，则对静态局部变量来说，编译时自动赋初值0（对数值型变量）或空字符（对字符变量）。</p>

+ 为了提高效率，C语言允许将局部变量得值放在CPU中的寄存器中，这种变量叫“寄存器变量”，用关键字register作声明

<p style="color:red">注意：只有局部自动变量和形式参数可以作为寄存器变量；一个计算机系统中的寄存器数目有限，不能定义任意多个寄存器变量；局部静态变量不能定义为寄存器变量。</p>
+ 用extern声明的的变量是外部变量，外部变量的意义是某函数可以调用在该函数之后定义的变量。



## 数组

**声明及初始化**

1. 声明
数据类型 数组名称[长度]; 

2. 初始化


第一种形式
`int arrFirst[3] = {1,2,3};`
第二种形式
`int arrSecond[] = {1,2,3};`
第三种形式
`int arrThird[3];`

<b style="color:red">注意：</b>
1、数组的下标均以0开始；
2、数组在初始化的时候，数组内元素的个数不能大于声明的数组长度；
3、如果采用第一种初始化方式，元素个数小于数组的长度时，多余的数组元素初始化为0；
4、在声明数组后没有进行初始化的时候，静态（static）和外部（extern）类型的数组元素初始化元素为0，自动（auto）类型的数组的元素初始化值不确定。


多维数组

定义：

```
	数据类型 数组名称[常量表达式1][常量表达式2]...[常量表达式n]; 
```

初始化
```
	数据类型 数组名称[常量表达式1][常量表达式2]...[常量表达式n] = {{值1,..,值n},{值1,..,值n},...,{值1,..,值n}}; 
```
```
	数据类型 数组名称[常量表达式1][常量表达式2]...[常量表达式n]; 数组名称[下标1][下标2]...[下标n] = 值; 
```

<b style="color:red">注意：</b>

1. 采用第一种始化时数组声明必须指定列的维数。因为系统会根据数组中元素的总个数来分配空间，当知道元素总个数以及列的维数后，会直接计算出行的维数；

2. 采用第二种初始化时数组声明必须同时指定行和列的维数。


### 利用数组定义字符串

在C语言中，是没有办法直接定义字符串数据类型的，但是我们可以使用数组来定义我们所要的字符串。


方法：

1. `char 字符串名称[长度] = "字符串值"`

2. `char 字符串名称[长度] = {'字符1','字符2',...,'字符n','\0'}`

<b style="color:red">注意：</b>

1. []中的长度是可以省略不写的；

2. 采用第2种方式的时候最后一个元素必须是'\0'，'\0'表示字符串的结束标志；

3. 采用第2种方式的时候在数组中不能写中文。

4. 在输出字符串的时候要使用：printf(“%s”,字符数组名字);或者puts(字符数组名字);

``` C
void say(char string[])       
{
        printf("%s\n",string);     
        puts(string);
}
```

---

**字符串函数**

![](/images/201511/9.jpg)

使用字符串函数注意以下事项：

1. strlen()获取字符串的长度，在字符串长度中是不包括‘\0’而且汉字和字母的长度是不一样的。
2. strcmp()在比较的时候会把字符串先转换成ASCII码再进行比较,返回的结果为0表示s1和s2的ASCII码相等,返回结果为1表示s1比s2的ASCII码大,返回结果为-1表示s1比s2的ASCII码小
3. strcpy()拷贝之后会覆盖原来字符串且不能对字符串常量进行拷贝
4. strcat在使用时s1与s2指的内存空间不能重叠，且s1要有足够的空间来容纳要复制的字符串

学习自[慕课网](http://www.imooc.com/learn/249)